<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Get Started Page</title>
  <link rel="stylesheet" href="./getstarted.css">
</head>
<body>
  <div class="container">
        <header>
            <h1>Stand-Up</h1>
            <h2>Create an account</h2>
            <p class="info">You are advised to create an account with a valid email address or valid phone number</p>
        </header>

        <form id="signupForm">
            <div class="form-group">
                <label for="name">Enter your name</label>
                <input type="text" id="name" name="name" required="">
            </div>

            <div class="form-group">
                <label for="age">Your age</label>
                <input type="number" id="age" name="age" min="10" max="99" required="">
            </div>

            <div class="form-group">
                <label for="contact">Enter your email / phone NO:</label>
                <input type="text" id="contact" name="contact" required="">
            </div>

            <div class="form-group">
                <label for="password">Enter your password</label>
                <input type="password" id="password" name="password" required="">
            </div>

            <div class="form-group">
                <label>Sex</label>
                <div class="radio-group">
                    <label><input type="radio" name="sex" value="Male" checked=""> Male</label>
                    <label><input type="radio" name="sex" value="Female"> Female</label>
                    <label><input type="radio" name="sex" value="Other"> Other</label>
                </div>
            </div>

            <div class="form-group">
                <label for="school">School name</label>
                <input type="text" id="school" name="school" required="">
            </div>

            <button type="submit" class="submit-btn">Enter</button>
        </form>

        <p class="login-link">Already have an account? <a href="#" id="loginLink">Log In</a></p>
    </div>

    <script>document.addEventListener('DOMContentLoaded', function () {
  const signupForm = document.getElementById('signupForm');
  const loginLink = document.getElementById('loginLink');

  if (!localStorage.getItem('anonymousStudents')) {
    localStorage.setItem('anonymousStudents', JSON.stringify([]));
  }

  signupForm.addEventListener('submit', function (e) {
    e.preventDefault();

    const name = document.getElementById('name').value.trim();
    const age = document.getElementById('age').value.trim();
    const contact = document.getElementById('contact').value.trim();
    const password = document.getElementById('password').value.trim();
    const sex = document.querySelector('input[name="sex"]:checked')?.value;
    const school = document.getElementById('school').value.trim();

    if (!name || !age || !contact || !password || !sex || !school) {
      alert('Please fill in all fields.');
      return;
    }

    const student = {
      id: generateAnonymousId(),
      name,
      age,
      contact,
      password,
      sex,
      school,
      timestamp: new Date().toISOString()
    };

    const existingStudents = JSON.parse(localStorage.getItem('anonymousStudents'));

    const contactExists = existingStudents.some(s => s.contact === contact);
    if (contactExists) {
      alert('This email or phone number is already registered.');
      return;
    }

    localStorage.setItem('anonymousStudents', JSON.stringify(existingStudents));

    alert('Account created successfully! Your anonymous ID is: ' + student.id);
    signupForm.reset();

    console.log('All students in local storage:', existingStudents);
  });

  loginLink.addEventListener('click', function (e) {
    e.preventDefault();

    window.location.href = 'login.html';
  });

});
</script>

</body>
</html>